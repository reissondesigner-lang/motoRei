<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Controle de Moto - PWA</title>
<link rel="manifest" href="manifest.json">
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="app-container">
    <header>
        <h1>Painel Futurista da Moto</h1>
    </header>

    <section class="dashboard">
        <div class="indicator">
            <h2>KM Atual</h2>
            <p id="kmAtualDisplay">0</p>
        </div>

        <div class="indicator velocimetro">
            <h2>Autonomia (km)</h2>
            <canvas id="velocimetroAutonomia" width="200" height="200"></canvas>
        </div>

        <div class="indicator velocimetro">
            <h2>Combustível (L)</h2>
            <canvas id="velocimetroCombustivel" width="200" height="200"></canvas>
        </div>

        <div class="indicator">
            <h2>Próxima Troca de Óleo</h2>
            <p id="proximaOleoDisplay">0 km / 0 dias</p>
        </div>
    </section>

    <section class="forms">
        <h2>Registrar Abastecimento</h2>
        <form id="formAbastecimento">
            <input type="number" id="kmAbastecimento" placeholder="KM Atual" required>
            <input type="number" step="0.01" id="litros" placeholder="Litros" required>
            <input type="number" step="0.01" id="valor" placeholder="Valor R$" required>
            <label><input type="checkbox" id="tanqueCheio"> Tanque cheio</label>
            <button type="submit">Registrar</button>
        </form>

        <h2>Registrar Troca de Óleo</h2>
        <form id="formOleo">
            <input type="number" id="kmOleo" placeholder="KM Atual" required>
            <button type="submit">Registrar</button>
        </form>
    </section>

    <section class="graficos">
        <h2>Histórico de Consumo</h2>
        <canvas id="graficoConsumo" width="400" height="200"></canvas>
        <h2>Próxima Troca de Óleo</h2>
        <canvas id="graficoOleo" width="400" height="200"></canvas>
    </section>
</div>

<script src="script.js"></script>
<script>
if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js')
        .then(()=>console.log('Service Worker registrado'))
        .catch(err=>console.log('Erro SW:', err));
}
</script>
</body>
</html>
